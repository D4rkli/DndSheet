<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DnD Sheet</title>

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <link rel="stylesheet" href="styles.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>

<div class="wrap">

  <h1>DnD Sheet</h1>
  <div id="status" class="muted">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ‚Ä¶</div>

  <!-- ===================== -->
  <!-- üßô –≠–ö–†–ê–ù 1: –ü–ï–†–°–û–ù–ê–ñ–ò -->
  <!-- ===================== -->
  <div id="listScreen" class="card">

    <h2>–ü–µ—Ä—Å–æ–Ω–∞–∂–∏</h2>

    <div class="mb-3">
      <input id="newName"
             class="form-control mb-2"
             placeholder="–ò–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞" />

      <button id="createBtn" class="btn btn-primary w-100">
        –°–æ–∑–¥–∞—Ç—å
      </button>
    </div>

    <ul id="chars"></ul>

  </div>

  <!-- ===================== -->
  <!-- üßô‚Äç‚ôÇÔ∏è –≠–ö–†–ê–ù 2: –ü–ï–†–°–û–ù–ê–ñ -->
  <!-- ===================== -->
  <div id="characterScreen" class="card" style="display:none">

    <button onclick="backToList()">‚Üê –ù–∞–∑–∞–¥</button>

    <h2 id="charTitle"></h2>
    <div id="charMeta" class="muted"></div>

    <!-- üì¶ –ö–û–ù–¢–ï–ù–¢ –í–ö–õ–ê–î–û–ö -->
    <div id="tabContent">

      <!-- üìä –•–ê–†–ê–ö–¢–ï–†–ò–°–¢–ò–ö–ò -->
      <div id="tab-stats" class="tab-content">

        <p><b>–ò–º—è:</b> <span id="viewName"></span></p>
        <p><b>–†–∞—Å–∞:</b> <span id="viewRace"></span></p>
        <p><b>–ö–ª–∞—Å—Å:</b> <span id="viewClass"></span></p>
        <p><b>–£—Ä–æ–≤–µ–Ω—å:</b> <span id="viewLevel"></span></p>

        <button onclick="enableEdit()">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>

      </div>

      <!-- üéí –ò–ù–í–ï–ù–¢–ê–†–¨ -->
      <div id="tab-inventory" class="tab-content" style="display:none">

        <div class="inventory-header">
          <h3>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
          <button onclick="openItemEditor()">‚ûï</button>
        </div>

        <ul id="inventoryList" class="list"></ul>

      </div>

      <!-- ‚ú® –ó–ê–ö–õ–ò–ù–ê–ù–ò–Ø -->
      <div id="tab-spells" class="tab-content" style="display:none">
        <p class="muted">–ó–∞–∫–ª–∏–Ω–∞–Ω–∏—è –±—É–¥—É—Ç –ø–æ–∑–∂–µ</p>
      </div>

    </div>

    <!-- üìå –ù–ò–ñ–ù–Ø–Ø –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
    <div id="bottomNav" class="bottom-nav" style="display:none">

      <button id="nav-stats" class="active" onclick="openTab('stats')">
        <span class="icon">üìä</span>
        <span class="label">–•–∞—Ä-–∫–∏</span>
      </button>

      <button id="nav-inventory" onclick="openTab('inventory')">
        <span class="icon">üéí</span>
        <span class="label">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</span>
      </button>

      <button id="nav-spells" onclick="openTab('spells')">
        <span class="icon">‚ú®</span>
        <span class="label">–ú–∞–≥–∏—è</span>
      </button>

    </div>

  </div>

  <!-- ===================== -->
  <!-- üß© –≠–ö–†–ê–ù: –ü–†–ï–î–ú–ï–¢ -->
  <!-- ===================== -->
  <div id="itemEditor" class="card" style="display:none">

    <button onclick="closeItemEditor()">‚Üê –ù–∞–∑–∞–¥</button>

    <h2 id="itemEditorTitle">–ü—Ä–µ–¥–º–µ—Ç</h2>

    <div class="mb-3">
      <input id="editItemName"
             class="form-control"
             placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞" />
    </div>

    <div class="mb-3">
      <textarea id="editItemDesc"
                class="form-control"
                rows="3"
                placeholder="–û–ø–∏—Å–∞–Ω–∏–µ"></textarea>
    </div>

    <div class="mb-3">
      <textarea id="editItemStats"
                class="form-control"
                rows="3"
                placeholder="–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏"></textarea>
    </div>


    <button onclick="saveItem()" class="btn btn-success w-100 mb-2">
  üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
    </button>

    <button id="deleteItemBtn"
            onclick="deleteItem()"
            class="btn btn-danger w-100"
            style="display:none">
      üóë –£–¥–∞–ª–∏—Ç—å
    </button>

  </div>

</div>

<script src="app.js?v=2"></script>
</body>
</html>
