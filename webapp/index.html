<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DnD Sheet</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
<div class="wrap">
  <header class="topbar">
    <div class="d-flex align-items-center justify-content-between gap-2">
      <div class="min-w-0">
        <div class="app-title">üßô –õ–∏—Å—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</div>
        <div id="status" class="muted">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ‚Ä¶</div>
      </div>
      <button id="btnSync" class="btn btn-sm btn-outline-light">–°–∏–Ω—Ö—Ä.</button>
    </div>

    <div class="mt-2 d-flex gap-2">
      <select id="characterSelect" class="form-select form-select-sm"></select>
      <button id="btnNew" class="btn btn-sm btn-light">+ –ù–æ–≤—ã–π</button>
    </div>
  </header>

  <main class="content">
    <ul class="nav nav-pills nav-fill small sticky-tabs" id="tabs">
      <li class="nav-item"><button class="nav-link active" data-tab="main">–û—Å–Ω–æ–≤–Ω–æ–µ</button></li>
      <li class="nav-item"><button class="nav-link" data-tab="stats">–°—Ç–∞—Ç—ã</button></li>
      <li class="nav-item"><button class="nav-link" data-tab="inv">–ò–Ω–≤.</button></li>
      <li class="nav-item"><button class="nav-link" data-tab="spells">–ó–∞–∫–ª.</button></li>
      <li class="nav-item"><button class="nav-link" data-tab="abilities">–£–º.</button></li>
      <li class="nav-item"><button class="nav-link" data-tab="states">–°–æ—Å—Ç.</button></li>
      <li class="nav-item"><button class="nav-link" data-tab="equip">–≠–∫–∏–ø.</button></li>
    </ul>

    <!-- MAIN -->
    <section class="tab" id="tab-main">
      <div class="card card-soft">
        <div class="card-body">
          <div class="row g-2">
            <div class="col-12">
              <label class="form-label">–ò–º—è</label>
              <input id="f_name" class="form-control" placeholder="–ù–∞–ø—Ä. –≠–ª–≤–∏–Ω" />
            </div>
            <div class="col-6">
              <label class="form-label">–†–∞—Å–∞</label>
              <input id="f_race" class="form-control" placeholder="–≠–ª—å—Ñ" />
            </div>
            <div class="col-6">
              <label class="form-label">–ö–ª–∞—Å—Å</label>
              <input id="f_klass" class="form-control" placeholder="–†–µ–π–Ω–¥–∂–µ—Ä" />
            </div>
            <div class="col-6">
              <label class="form-label">–ü–æ–ª</label>
              <input id="f_gender" class="form-control" placeholder="" />
            </div>
            <div class="col-3">
              <label class="form-label">–£—Ä–æ–≤–µ–Ω—å</label>
              <input id="f_level" type="number" class="form-control" min="1" />
            </div>
            <div class="col-3">
              <label class="form-label">XP</label>
              <input id="f_xp" type="number" class="form-control" min="0" />
            </div>
          </div>

          <hr class="hr-soft" />

          <div class="row g-2">
            <div class="col-12"><div class="section-title">–†–µ—Å—É—Ä—Å—ã</div></div>

            <div class="col-4">
              <label class="form-label">HP</label>
              <div class="input-group input-group-sm">
                <input id="f_hp" type="number" class="form-control" />
                <span class="input-group-text">/</span>
                <input id="f_hp_max" type="number" class="form-control" />
              </div>
              <div class="hint">+lvl <input id="f_hp_per_level" type="number" class="mini" /></div>
            </div>

            <div class="col-4">
              <label class="form-label">–ú–∞–Ω–∞</label>
              <div class="input-group input-group-sm">
                <input id="f_mana" type="number" class="form-control" />
                <span class="input-group-text">/</span>
                <input id="f_mana_max" type="number" class="form-control" />
              </div>
              <div class="hint">+lvl <input id="f_mana_per_level" type="number" class="mini" /></div>
            </div>

            <div class="col-4">
              <label class="form-label">–≠–Ω–µ—Ä–≥–∏—è</label>
              <div class="input-group input-group-sm">
                <input id="f_energy" type="number" class="form-control" />
                <span class="input-group-text">/</span>
                <input id="f_energy_max" type="number" class="form-control" />
              </div>
              <div class="hint">+lvl <input id="f_energy_per_level" type="number" class="mini" /></div>
            </div>
          </div>

          <div class="d-grid mt-3">
            <button id="btnSaveMain" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          </div>
        </div>
      </div>

      <div class="card card-soft mt-3">
        <div class="card-body">
          <div class="section-title">–ü—Ä–∞–≤–∏–ª–∞ –ª–µ–≤–µ–ª-–∞–ø–∞ / –∑–∞–º–µ—Ç–∫–∏ DM</div>
          <textarea id="f_level_up_rules" class="form-control" rows="5" placeholder="–ß—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂ –ø—Ä–∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è‚Ä¶"></textarea>
          <div class="d-grid mt-2">
            <button id="btnSaveRules" class="btn btn-outline-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–º–µ—Ç–∫—É</button>
          </div>
        </div>
      </div>
    </section>

    <!-- STATS -->
    <section class="tab d-none" id="tab-stats">
      <div class="card card-soft">
        <div class="card-body">
          <div class="section-title">–•–∞—Ä–∞–∫—Ç–µ—Ä</div>
          <div class="grid-2" id="statsPersonality"></div>

          <hr class="hr-soft" />

          <div class="section-title">–ë–æ–π</div>
          <div class="grid-2" id="statsCombat"></div>

          <div class="d-grid mt-3">
            <button id="btnSaveStats" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ç—ã</button>
          </div>
        </div>
      </div>
    </section>

    <!-- INVENTORY -->
    <section class="tab d-none" id="tab-inv">
      <div class="card card-soft">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            <div class="section-title mb-0">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</div>
            <button id="btnAddItem" class="btn btn-sm btn-light">+ –ü—Ä–µ–¥–º–µ—Ç</button>
          </div>
          <div id="invList" class="list mt-2"></div>
        </div>
      </div>
    </section>

    <!-- SPELLS -->
    <section class="tab d-none" id="tab-spells">
      <div class="card card-soft">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            <div class="section-title mb-0">–ó–∞–∫–ª–∏–Ω–∞–Ω–∏—è</div>
            <button id="btnAddSpell" class="btn btn-sm btn-light">+ –ó–∞–∫–ª–∏–Ω–∞–Ω–∏–µ</button>
          </div>
          <div id="spellsList" class="list mt-2"></div>
        </div>
      </div>
    </section>

    <!-- ABILITIES -->
    <section class="tab d-none" id="tab-abilities">
      <div class="card card-soft">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            <div class="section-title mb-0">–£–º–µ–Ω–∏—è</div>
            <button id="btnAddAbility" class="btn btn-sm btn-light">+ –£–º–µ–Ω–∏–µ</button>
          </div>
          <div id="abilitiesList" class="list mt-2"></div>
        </div>
      </div>
    </section>

    <!-- STATES -->
    <section class="tab d-none" id="tab-states">
      <div class="card card-soft">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            <div class="section-title mb-0">–°–æ—Å—Ç–æ—è–Ω–∏—è</div>
            <button id="btnAddState" class="btn btn-sm btn-light">+ –°–æ—Å—Ç–æ—è–Ω–∏–µ</button>
          </div>
          <div id="statesList" class="list mt-2"></div>
        </div>
      </div>
    </section>

    <!-- EQUIPMENT -->
    <section class="tab d-none" id="tab-equip">
      <div class="card card-soft">
        <div class="card-body">
          <div class="section-title">–≠–∫–∏–ø–∏—Ä–æ–≤–∫–∞</div>
          <div class="grid-2" id="equipGrid"></div>
          <div class="d-grid mt-3">
            <button id="btnSaveEquip" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç–∫–∏–ø–∏—Ä–æ–≤–∫—É</button>
          </div>
        </div>
      </div>
    </section>

  </main>
</div>

<!-- MODAL -->
<div class="modal fade" id="editModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalTitle">–î–æ–±–∞–≤–∏—Ç—å</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="modalBody"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
        <button type="button" class="btn btn-primary" id="modalSave">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="app.js"></script>
</body>
</html>
